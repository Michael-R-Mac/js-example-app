const pokemonrepository=function e(){let t=[];function n(e){return"object"==typeof e&&"name"in e?(t.push(e),""):"Please add a pokemon."}function o(){return t}function a(e){let t=$(".modal-header"),n=$(".modal-body");t.empty(),n.empty();let o=$(`<h1>${e.name}</h1>`),a=$('<img class ="img-fluid" style="width:60%" >');a.attr("src",e.imageUrl);let l=$(`<p> Height: ${e.height}</p>`),p=$(`<p> Type: ${e.types}</p>`);t.append(o),n.append(l),n.append(a),n.append(p)}return{add:n,getAll:o,addListItem:function e(t){pokemonrepository.loadDetails(t).then(()=>{let e=$(".row"),n=$('<li class="col-6"></li>'),o=$('<img class="img-fluid" style="width:20%" alt="pokemonimage" >');o.attr("src",t.imageUrl);let l=$(`<button type="button" class="btn btn-dark" data-toggle="modal" data-target="#pokemonbtn" style="width:100%">${t.name}</button>`);e.append(n),n.append(l),l.append(o),l.on("click",()=>{!function e(t){pokemonrepository.loadDetails(t).then(()=>a(t))}(t)});let p=document.getElementById("mySearch");p.onkeyup=()=>{let e=document.getElementById("mySearch"),t=e.value.toUpperCase(),n=document.getElementById("myMenu"),o=n.getElementsByTagName("li");for(let a=0;a<o.length;a+=1){let l=o[a].getElementsByTagName("button")[0];l.innerHTML.toUpperCase().indexOf(t)>-1?o[a].style.display="":o[a].style.display="none"}}})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{e.results.forEach(e=>{let t={name:e.name,detailsUrl:e.url};n(t)})}).catch(e=>{console.error(e)})},loadDetails:function e(t){let n=t.detailsUrl;return fetch(n).then(e=>e.json()).then(e=>{t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=[];for(let n=0;n<e.types.length;n+=1)t.types.push(e.types[n].type.name)}).catch(e=>{console.error(e)})},showModal:a}}();pokemonrepository.loadList().then(()=>{pokemonrepository.getAll().forEach(e=>{pokemonrepository.addListItem(e)})});